(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{365:function(t,e,s){"use strict";s.r(e);var i=s(25),a=Object(i.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"ddd-structure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ddd-structure"}},[t._v("#")]),t._v(" DDD Structure")]),t._v(" "),s("p",[t._v("I this chapter we would like to show you suggested structure approach for creating your application.\nAs "),s("code",[t._v("nuxt-ioc")]),t._v(" does not force any structure, you can to do things your way, but if you would like to use some production-proven patterns feel free to build your application using our suggestions.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("You will see that we are using patterns that are almost identical to DDD approach but due to many simplifications in the implementation there are still strong differences. Keep in mind that we use DDD naming to just explain our approach. If any implementation are not compatible with Eric Evans' approach (and other gurus after him) please forgive us. We are still learning ðŸ˜ƒ")])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("DDD is mostly not about software itself but understanding business problems and trying to model these problems using software. "),s("code",[t._v("nuxt-ioc")]),t._v(" will not solve architectural problems for you, it will only allow you to implement them in easier way.\nFor strong architecture you should start with "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Event_storming",target:"_blank",rel:"noopener noreferrer"}},[t._v("Event Storming"),s("OutboundLink")],1),t._v(" in the first place.")])]),t._v(" "),s("h2",{attrs:{id:"file-structure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#file-structure"}},[t._v("#")]),t._v(" File structure")]),t._v(" "),s("p",[t._v("Suggested file structure is following for "),s("code",[t._v("nuxt-ioc")]),t._v(" projects")]),t._v(" "),s("div",{staticClass:"language-tree line-numbers-mode"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("div",{staticClass:"highlighted"},[t._v("Â ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(".\nâ”œâ”€â”€ Application\nâ”‚Â Â  â”œâ”€â”€ Domain\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ MyDomain\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ Component\nâ”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ MyComponent.vue\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ Event\nâ”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ MyCustomEvent.ts\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ Repository\nâ”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ MyRepository.ts\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ Support\nâ”‚Â Â  â”‚Â Â      |   â”œâ”€â”€ MyEnums.ts\nâ”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ MyTypes.ts\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ Service\nâ”‚Â Â  â”‚Â Â          â””â”€â”€ MyService.ts\nâ”‚Â Â  â”œâ”€â”€ Utils\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ Types\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ MyGlobalTypes.ts\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ MyOtherGlobalTypes.ts\nâ”‚Â Â  â”œâ”€â”€ Test\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ MyDomain\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ Component\nâ”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ MyComponent.spec.ts\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ Event\nâ”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ MyCustomEvent.spec.ts\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ Repository\nâ”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ MyRepository.spec.ts\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ Service\nâ”‚Â Â  â”‚Â Â          â””â”€â”€ MyService.spec.ts\nâ”‚Â Â  â””â”€â”€ container.ts\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ nuxt.config.ts\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ pages\nâ”‚Â Â  â””â”€â”€ index.vue\nâ””â”€â”€ tsconfig.json\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br")])]),s("p",[t._v("In the above example you can see several patterns that we suggest.")]),t._v(" "),s("p",[t._v("First, the "),s("code",[t._v("Application")]),t._v(" directory that is placed right in the root dir of your application.")]),t._v(" "),s("p",[s("code",[t._v("Application")]),t._v(" directory contains of three subdirectories:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Domain")]),t._v(" - contains your application domains")]),t._v(" "),s("li",[s("code",[t._v("Utils")]),t._v(" - contains utils (e.g. global types)")]),t._v(" "),s("li",[s("code",[t._v("Test")]),t._v(" - contains unit tests")])]),t._v(" "),s("h2",{attrs:{id:"domain-directory"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#domain-directory"}},[t._v("#")]),t._v(" Domain directory")]),t._v(" "),s("p",[s("code",[t._v("Domain")]),t._v(" directory should contain only domain subdirectories (e.g. "),s("code",[t._v("MyDomain")]),t._v("). The only exception is "),s("code",[t._v("container.ts")]),t._v(" file.")]),t._v(" "),s("p",[t._v("According to DDD approach domains are the real logical/business parts of your architecture. To define them you should use "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Event_storming",target:"_blank",rel:"noopener noreferrer"}},[t._v("Event Storming"),s("OutboundLink")],1),t._v(" but if you are not familiar with ES just try to name them by yourself and what you think will be best.")]),t._v(" "),s("p",[t._v("Keep in mind the "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Separation_of_concerns",target:"_blank",rel:"noopener noreferrer"}},[t._v("SoC"),s("OutboundLink")],1),t._v(" principle - it will help you organize your code even if you do not understand the business domain fully.")]),t._v(" "),s("p",[t._v("In the domain directory (in our example "),s("code",[t._v("MyDomain")]),t._v(") we can find further directory splits. As always those are optional and only valid if this particular domain needs an element. Some elements to highlight:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Component")]),t._v(" - here you can put all .vue components specific to this domain. They could be groupped by other subdirectories")]),t._v(" "),s("li",[s("code",[t._v("Event")]),t._v(" - put all domain events here. "),s("a",{attrs:{href:"./event-system"}},[t._v("More about events can be found here")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("Repository")]),t._v(" - contains all domain repositories (logic for accessing the data sources)")]),t._v(" "),s("li",[s("code",[t._v("Service")]),t._v(" - contains all services containing your business logic")]),t._v(" "),s("li",[s("code",[t._v("Support")]),t._v(" - you can put here files with types, interfaces, enums etc")])]),t._v(" "),s("p",[t._v("Optional directories:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Config")]),t._v(" - if this domain has some configuration class/objects put them here")]),t._v(" "),s("li",[s("code",[t._v("Route")]),t._v(" - put all route definitions here that are related to this domain only")]),t._v(" "),s("li",[s("code",[t._v("Directives")]),t._v(" - if domain requires "),s("a",{attrs:{href:"https://vuejs.org/v2/guide/custom-directive.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue directives"),s("OutboundLink")],1),t._v(" add them here")]),t._v(" "),s("li",[s("code",[t._v("Strategy")]),t._v(" - if your domain has some "),s("a",{attrs:{href:"https://refactoring.guru/design-patterns/strategy",target:"_blank",rel:"noopener noreferrer"}},[t._v("strategies"),s("OutboundLink")],1),t._v(" put them here")])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("In some DDD applications you might see structure build from Domain/Infrastructure/Presentation directories. This depends on the complexity of implementation and here we try to keep it simple. If you application requires different structure do not hesitate to change it to your needs.")])]),t._v(" "),s("h2",{attrs:{id:"utils-directory"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#utils-directory"}},[t._v("#")]),t._v(" Utils directory")]),t._v(" "),s("p",[t._v("Utils directory is ment to contain some global types or enums that are valid throughout all domains. If you do not need this directory then feel free to remove it completely.")]),t._v(" "),s("h2",{attrs:{id:"test-directory"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#test-directory"}},[t._v("#")]),t._v(" Test directory")]),t._v(" "),s("p",[t._v("Unit tests are ment to be put here. For more information about writing tests for your IoC classes please refer to "),s("a",{attrs:{href:"./testing"}},[t._v("testing your app")]),t._v(" section.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("As you can see "),s("code",[t._v("Test")]),t._v(" directory is separated from "),s("code",[t._v("Domain")]),t._v(" directory. In some projects you'll probably see tests put within the source files (side by side). We have tested both approaches and decided to go with separated "),s("code",[t._v("Test")]),t._v(" directory containing only tests. As always, this is just a suggestion and you can choose by yourself.")])]),t._v(" "),s("h2",{attrs:{id:"further-read"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#further-read"}},[t._v("#")]),t._v(" Further read")]),t._v(" "),s("p",[t._v("While creating the domain classes you should keep in mind best programming principles that we will just briefly touch in this book.")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/SOLID",target:"_blank",rel:"noopener noreferrer"}},[t._v("SOLID"),s("OutboundLink")],1),t._v(", especially SRP")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://martinfowler.com/bliki/CQRS.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("CQ(R)S"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.martinfowler.com/bliki/DDD_Aggregate.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("DDD Aggregates"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=a.exports}}]);